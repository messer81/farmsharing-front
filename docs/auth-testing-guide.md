# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## üìã –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **JWT —Ç–æ–∫–µ–Ω—ã** –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥–≤—É—Ö —É—Ä–æ–≤–Ω—è—Ö:
- **–°–µ—Ä–≤–µ—Ä**: Express.js —Å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- **–ö–ª–∏–µ–Ω—Ç**: React —Å Redux –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

## üîë –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

### 1. –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```
Email: ivan@example.com
Password: password123
Role: user
```

### 2. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
```
Email: admin@example.com
Password: password123
Role: admin
```

## üß™ –°–ø–æ—Å–æ–±—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: `http://localhost:5173`
2. **–ù–∞–π–¥–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤—Ö–æ–¥–∞**: –û–±—ã—á–Ω–æ –≤ —Ö–µ–¥–µ—Ä–µ
3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Ö–æ–¥**:
   - –í–≤–µ–¥–∏—Ç–µ `ivan@example.com` –∏ `password123`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã –≤–æ—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é**:
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### 2. –ß–µ—Ä–µ–∑ Postman/API

#### üîë –í—Ö–æ–¥ (Login)
```http
POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
  "email": "ivan@example.com",
  "password": "password123"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "message": "Login successful",
  "user": {
    "id": 1,
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "email": "ivan@example.com",
    "phone": "+7 (999) 123-45-67",
    "address": "—É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 10, –∫–≤. 5",
    "preferredLanguage": "ru",
    "role": "user",
    "createdAt": "2024-01-01T10:00:00Z",
    "updatedAt": "2024-01-20T15:30:00Z"
  },
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

#### üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (Register)
```http
POST http://localhost:3000/api/auth/register
Content-Type: application/json

{
  "name": "–¢–µ—Å—Ç–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
  "email": "test@example.com",
  "password": "testpassword123",
  "phone": "+7 (999) 999-99-99",
  "address": "–¢–µ—Å—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å",
  "preferredLanguage": "ru"
}
```

#### üë§ –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å (—Å —Ç–æ–∫–µ–Ω–æ–º)
```http
GET http://localhost:3000/api/auth/profile
Authorization: Bearer YOUR_JWT_TOKEN
```

#### üîÑ –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
```http
PUT http://localhost:3000/api/auth/profile
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ò–º—è",
  "phone": "+7 (999) 888-88-88",
  "address": "–ù–æ–≤—ã–π –∞–¥—Ä–µ—Å",
  "preferredLanguage": "en"
}
```

#### üìß –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
```http
POST http://localhost:3000/api/auth/forgot-password
Content-Type: application/json

{
  "email": "ivan@example.com"
}
```

## üö® –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

### 1. –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```http
POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
  "email": "wrong@example.com",
  "password": "wrongpassword"
}
```
**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:** `400 Bad Request` —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "Invalid credentials"

### 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```http
POST http://localhost:3000/api/auth/register
Content-Type: application/json

{
  "name": "–¢–µ—Å—Ç",
  "email": "ivan@example.com", // –£–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
  "password": "password123"
}
```
**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:** `400 Bad Request` —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "User already exists"

### 3. –î–æ—Å—Ç—É–ø –±–µ–∑ —Ç–æ–∫–µ–Ω–∞
```http
GET http://localhost:3000/api/auth/profile
```
**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:** `401 Unauthorized` —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "Access token required"

### 4. –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω
```http
GET http://localhost:3000/api/auth/profile
Authorization: Bearer invalid_token
```
**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:** `403 Forbidden` —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "Invalid or expired token"

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
npm run dev
```
–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –∏ –∫–ª–∏–µ–Ω—Ç (–ø–æ—Ä—Ç 5173), –∏ —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3000).

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞
```bash
curl http://localhost:3000/
```
–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"message":"Farm Sharing API is running"}`

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ CORS
–°–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∏–µ–Ω—Ç–æ–º –Ω–∞ `localhost:5173`.

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
### 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Network
### 3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Ö–æ–¥/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –≤ localStorage
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
localStorage.getItem('authToken')
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è Redux
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å Redux DevTools)
store.getState().auth
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–¢–æ–∫–µ–Ω—ã –∏—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞**
2. **–ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å bcrypt**
3. **–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞** (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –æ—á–∏—Å—Ç–∏—Ç –Ω–æ–≤—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
4. **CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è localhost:5173**

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–æ–≤—ã–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—Å—á–µ–∑–∞—é—Ç
- Google OAuth –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç alert)
- –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ email/–ø–∞—Ä–æ–ª—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ 